@model Telerik.Sitefinity.Frontend.Identity.Mvc.Models.UsersList.UsersListViewModel

@using Telerik.Sitefinity;
@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Modules.Pages;
@using Telerik.Sitefinity.Web.DataResolving;
@using Telerik.Sitefinity.Security.Model;
@using Telerik.Sitefinity.Frontend.Identity.Mvc.Helpers;
@using Telerik.Sitefinity.Frontend.Identity.Mvc.Models.UsersList;
@using Telerik.Sitefinity.Services;
@using Telerik.Sitefinity.Modules.UserProfiles;

@Html.Script(ScriptRef.JQuery, "top", false)

<div class="@Model.CssClass bio-pick">
    @if (Model.ContentType == typeof(SitefinityProfile))
    {
        foreach (var item in Model.Items)
        {
            <a class="full-wrap" href="/@UsersHelper.EncodeUrlUsername(HyperLinkHelpers.GetDetailPageUrl(item, ViewBag.DetailsPageId, ViewBag.OpenInSamePage), item as SitefinityProfileItemViewModel)" title="@(((SitefinityProfile)item.DataItem).GetUserDisplayName())">
                <figure>
                    <img class="media-object" src="@((item as SitefinityProfileItemViewModel).AvatarImageUrl)" alt="@item.Fields.FirstName" width="330" height="410" />

                </figure>

                <div class="bio-desc">
                    <p><strong>@(((SitefinityProfile)item.DataItem).GetUserDisplayName())</strong></p>
                    <p class="highlight">
                        @(((SitefinityProfile)item.DataItem).User.Email)
                    </p>
                </div>
            </a>
        }
    }

</div>
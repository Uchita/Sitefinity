@model Telerik.Sitefinity.Frontend.Mvc.Models.ContentListViewModel

@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Modules.Pages;
@using Telerik.Sitefinity.Web.DataResolving;
@using Telerik.Sitefinity;
@using Telerik.Sitefinity.Model;
@using Telerik.Sitefinity.Taxonomies;
@using Telerik.Sitefinity.Taxonomies.Model;
@using System.Collections;
@using Newtonsoft.Json;

@{
    var model = Model.Items.OrderByDescending(x => x.Fields.PublicationDate).Select(x => x.Fields.PublicationDate.ToString("MMMMM yyyy")).Distinct().ToList();
}

<div class="archive-list">
    <h4 class="title">Archive</h4>
    <ul>
        @foreach (var item in model)
        {
            var arr = item.ToString().Split(' ');
            if (arr[1] == DateTime.Now.ToString("yyyy"))
            {
                <li><a href="/news/events1?archivedate=@item">@item</a></li>
            }
            else
            {
                <li><a href="/news/events1?archivedate=@arr[1]">@arr[1]</a></li>
            }
        }
    </ul>
</div>



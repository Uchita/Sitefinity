@model JXTPosterTransform.Website.Models.ClientSetupLogDisplayModel
@{
    ViewBag.Title = "View Log Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row">
    <h1 class="page-header">
        View Log Details</h1>
</div>
<fieldset>
    <div class="form-group">
        <label class="control-label">
            Log ID</label>
        @Html.DisplayFor(model => model.ClientSetupLogId)
    </div>
    <div class="form-group">
        <label class="control-label">
            Client</label>
        <a href="/client/edit/@Model.ClientId">@Html.DisplayFor(model => model.ClientName)</a>
    </div>
    <div class="form-group">
        <label class="control-label">
            Client Setup</label>
        <a href="/clientsetup/edit/@Model.ClientSetupId">@Html.DisplayFor(model => model.ClientSetupName)</a>
    </div>
    <div class="form-group">
        <label class="control-label">
            Poster Transform</label>
        <a href="/postertransforms/edit/@Model.PosterTransformId">@Html.DisplayFor(model => model.PosterTransformName)</a>
    </div>
    <div class="form-group">
        <label class="control-label">
            Raw Data - @Model.RawDataFileName</label>
        <a href="javascript:void(0)" class="pull-right" onclick="$('#pre1').toggle();">- Toggle
            -</a>
        <div>
            <pre id="pre1" class="prettyprint lang-xml" style="display: none;">
            <code class="xml">
                @Html.DisplayFor(model => model.RawData)
            </code>
            </pre>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">
            Request Data - @Model.RequestDataFileName</label>
        <a href="javascript:void(0)" class="pull-right" onclick="$('#pre2').toggle();">- Toggle
            -</a>
        <div>
            <pre id="pre2" class="prettyprint lang-xml" style="display: none;">
            <code class="xml">
                @Html.DisplayFor(model => model.RequestData)
            </code>
            </pre>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">
            Response Data - @Model.ResponseDataFileName</label>
        <a href="javascript:void(0)" class="pull-right" onclick="$('#pre3').toggle();">- Toggle
            -</a>
        <div>
            <pre id="pre3" class="prettyprint lang-xml" style="display: none;">
                <code class="xml">
                    @Html.DisplayFor(model => model.ResponseData)
                </code>
            </pre>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label">
            Created Date</label>
        @Html.DisplayFor(model => model.CreatedDate)
    </div>
    <div class="form-group">
        <label class="control-label">
            Finished Date</label>
        @Html.DisplayFor(model => model.FinishedDate)
    </div>
    <div class="form-group hide">
        <label class="control-label">
            Status</label>
        @Html.DisplayFor(model => model.Failed)
    </div>

</fieldset>
@section scripts
{
    <link href="/Scripts/highlight/styles/zenburn.css" rel="stylesheet" type="text/css" />
    <script src="/Scripts/highlight/highlight.pack.js" type="text/javascript"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            hljs.initHighlightingOnLoad();
        });

    </script>
    @*<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

<script>

$(function(){

    $('.prettyprint').each(function(i, obj) {
        //test
        $(this).text(formatXml($(this).text()));
    });

    function formatXml(xml) {
        var formatted = '';
        var reg = /(>)(<)(\/*)/g;
        xml = xml.replace(reg, '$1\r\n$2$3');
        var pad = 0;
        jQuery.each(xml.split('\r\n'), function(index, node) {
            var indent = 0;
            if (node.match( /.+<\/\w[^>]*>$/ )) {
                indent = 0;
            } else if (node.match( /^<\/\w/ )) {
                if (pad != 0) {
                    pad -= 1;
                }
            } else if (node.match( /^<\w[^>]*[^\/]>.*$/ )) {
                indent = 1;
            } else {
                indent = 0;
            }

            var padding = '';
            for (var i = 0; i < pad; i++) {
                padding += '  ';
            }

            formatted += padding + node + '\r\n';
            pad += indent;
        });

        return formatted;
    }

});

</script>*@
}

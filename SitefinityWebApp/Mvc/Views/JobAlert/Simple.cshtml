@model List<SitefinityWebApp.Mvc.Models.JobAlertViewModel>

<br />
<br />

@if (ViewBag.CreateMessage != null)
{
    <div class="alert alert-success">@ViewBag.CreateMessage</div>
}

@if (ViewBag.DeleteMessage != null)
{
    <div class="alert alert-danger">@ViewBag.DeleteMessage</div>
}

@Html.ActionLink("Create Job Alert", "Create", "JobAlert")

<br />
<br />
@if (Model != null && Model.Count > 0)
{

    <table class="table table-bordered">
        <tr>
            <th>Name</th>
            <th>Send Email Alerts</th>
            <th>Last Modified</th>
            <th>Action</th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @item.Name
                </td>

                <td>

                    @if (item.EmailAlerts == true)
                    {
                        @Html.Raw("Yes")
                    }
                    else
                    {
                        @Html.Raw("No")
                    }

                </td>
                <td>
                    @item.LastModified
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", "JobAlert", new { id = item.Id }, null)
                    @Html.ActionLink("Search", "ViewResults", "JobAlert", new { id = item.Id }, null)
                    @Html.ActionLink("Delete", "Delete", "JobAlert", new { id = item.Id }, new { onclick = "return confirmDelete();" })
                </td>
            </tr>
        }

    </table>
}

else
{
    <div>You currently don't have any job alerts.</div>
}

<script type="text/javascript">

    function confirmDelete() {
          if (confirm("Are you sure you want to delete this record?")) {
            return true;
        }
        else {
            return false;
        }
    }

</script>


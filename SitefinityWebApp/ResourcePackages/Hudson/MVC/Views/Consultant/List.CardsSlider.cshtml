@model Telerik.Sitefinity.Frontend.DynamicContent.Mvc.Models.DynamicContentListViewModel
@using Telerik.Sitefinity.Frontend.DynamicContent.WidgetTemplates.Fields.Helpers;
@using Telerik.Sitefinity;
@using Telerik.Sitefinity.Data.ContentLinks;
@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Frontend.Mvc.Models;
@using Telerik.Sitefinity.Web.DataResolving;
@using Telerik.Sitefinity.Model.ContentLinks;
@using Telerik.Sitefinity.Modules.Pages;
@using Telerik.Sitefinity.Modules.Libraries;
<div class="owl-carousel owl-theme owl-consultants same-height-wrapper">
    @foreach (var consultant in Model.Items)
    {
        var navigateUrl = HyperLinkHelpers.GetDetailPageUrl(consultant, ViewBag.DetailsPageId, ViewBag.OpenInSamePage, Model.UrlKeyPrefix);

        if (consultant.Fields.Pic != null && consultant.Fields.Office != null)
        {
            <div class="item">
                <div class="consultant same-height-box">
                    <a href="@navigateUrl">
                        <div class="consultant-photo" style="background-image:url('@MediaContentExtensions.ResolveThumbnailUrl(consultant.Fields.Pic.DataItem, "thumb350")');"></div>
                    </a>
                    <div class="caption">
                        <h3 class="consultant-name">@consultant.Fields.ConsultantName</h3>
                        <p class="consultant-sum">
                            @Html.HtmlSanitize((string)consultant.Fields.Position)
                        </p>
                    </div><a class="consultant-btn" href="@navigateUrl">@Html.HtmlSanitize((string)consultant.Fields.Office.Fields.Name).ToString().ToUpper()</a>
                </div>
            </div>
        }
    }
</div>


